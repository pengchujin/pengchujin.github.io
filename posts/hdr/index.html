<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>B 站和 HDR | 酱紫表</title>
<link rel="shortcut icon" href="https://qust.me/favicon.ico?v=1620664166110">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://qust.me/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="B 站和 HDR | 酱紫表 - Atom Feed" href="https://qust.me/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-168348943-1"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-168348943-1');
</script>


    <meta name="description" content="近几年，HDR 这个技术频频出现在手机厂商的发布会上。
2018 年 iPhone X 发布成为苹果首款支持 HDR 的手机，此后每一款 iPhone HDR 都没有缺席。我刚去小米官网看了下，价格仅 999 元的 Redmi 10x 也已..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://qust.me">
  <img class="avatar" src="https://qust.me/images/avatar.png?v=1620664166110" alt="">
  </a>
  <h1 class="site-title">
    酱紫表
  </h1>
  <p class="site-description">
    复杂的世界里一个就足够了
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/pengchujin" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
        <a href="https://twitter.com/pengchujin" target="_blank">
          <i class="ri-twitter-line"></i>
        </a>
      
    
      
        <a href="https://weibo.com/u/3138279871" target="_blank">
          <i class="ri-weibo-line"></i>
        </a>
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              B 站和 HDR
            </h2>
            <div class="post-info">
              <span>
                2020-09-28
              </span>
              <span>
                11 min read
              </span>
              
            </div>
            
              <img class="post-feature-image" src="https://oss.qust.me/img/679b0013-c9c3-40b2-878d-beeb6065565c.png" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <p>近几年，HDR 这个技术频频出现在手机厂商的发布会上。</p>
<p>2018 年 iPhone X 发布成为苹果首款支持 HDR 的手机，此后每一款 iPhone HDR 都没有缺席。我刚去小米官网看了下，价格仅 999 元的 Redmi 10x 也已经支持了蛮高规格的 HDR。</p>
<p>虽然 HDR 已经成为近几年中高端手机的标配，但想要充分享受到 HDR 画质的视频，硬件、内容、网络条件缺一不可。</p>
<!--more-->
<p>虽然国内爱奇艺、优酷、腾讯视频几家视频平台在多年前就宣布支持HDR，但总能在网络上看到很多人对 HDR 视频效果体验差强人意，频频出现只是“加了一个色彩滤镜”的评论。 拥有一块足够好的屏幕，却没能与之匹配的高画质 HDR 内容观看，多少是一件遗憾的事情。</p>
<blockquote>
<p>9月30日，B站上线了HDR10画质升级，成为国内首家支持 HDR10真彩、4K分辨率、120高帧率（20M码率）的在线视频平台。B站也向所有的创作者开放HDR10视频上传功能。这也是继上线4K分辨率120帧视频后，B站再次对视频创作者升级投稿画质。</p>
</blockquote>
<p>这一切正在慢慢被 B 站所改变。</p>
<h2 id="什么是-hdr">什么是 HDR</h2>
<p><strong>HDR 给我感觉就像摘掉墨镜那一刻看到的世界：如此明亮，色彩丰富。</strong></p>
<h3 id="更暗也更亮">更暗也更亮</h3>
<figure data-type="image" tabindex="1"><img src="https://oss.qust.me/img/305c3857-37cc-4329-a711-01060a7f0cfd.png" alt="来源：maketecheasier" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">1 nit 亮度示意图</center> 
<p>在1立方米大小盒子里放上一根蜡烛，盒子内表面的亮度约为 1 nit，中午太阳的亮度大约为 16亿 nits。现实世界里无论是 1 nit 还是 16亿 nits 我们人眼都能感受到它是有多暗淡多耀眼。</p>
<p>但我们平时接触到的传统视频都将亮度信息压缩到区区 0–100 nits 这个区间，这类视频被称为SDR（Standard Dynamic Range ）视频。</p>
<p>中高端支持 HDR 的手机屏幕一般都能达到 1000 nits 左右的亮度，显然 SDR 视频已经不能满足屏幕显示的需求了，我们需要用一种更好的视频技术，来展现大自然的色彩和亮点变化。</p>
<p>HDR （High Dynamic Range） 高动态范围正是因为这个需求应运而生，这种视频可以更好的记录和展现更丰富的画面细节，更鲜艳的色彩</p>
<figure data-type="image" tabindex="2"><img src="https://oss.qust.me/img/Mapping-of-Lights.png" alt="来源：veneratech" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">HLG HDR SDR 亮度信息</center> 
<figure data-type="image" tabindex="3"><img src="https://oss.qust.me/img/36974-69191-Apple-4K-HDR-demo-xl.jpg" alt="来源：Apple" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">Apple TV 4K HDR 示意图</center> 
<p>与 SDR 视频将亮度信息记录到 0-100 nits 区间相比 HDR 视频一般将亮度信息记录在 0-1000 nits 这个区间，亮度区间远大于传统 SDR 视频，所以在 HDR 视频里无论是更明亮还是更暗淡的地方你都能同时看得更清晰。</p>
<p>以B站官方和影视飓风，特效小哥制作的 HDR 视频为例。（一加8手机截图示意）</p>
<figure data-type="image" tabindex="4"><img src="https://oss.qust.me/img/hdr1.jpg" alt="" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline"> HDR 关/开</center> 
<p>在部分灯光直接打到人脸上后面也满是错杂灯光的场景，HDR 视频中你仍然能看清人物的表情、整个肤色也更为自然。与此同时 HDR 版本背景中的高亮 bilibili 灯牌依然清晰可辨。（实际体验比截图更明显，HDR 的版本也截图看起来更明亮）</p>
<h3 id="更丰富艳丽的颜色">更丰富艳丽的颜色</h3>
<figure data-type="image" tabindex="5"><img src="https://oss.qust.me/img/0_wftD1dPy_-icMapV.png" alt="" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">色域空间示意</center> 
<p>大自然为什么这么美丽，是因为色彩的丰富。</p>
<p>我们人眼能看到的颜色大概覆盖在这个马蹄形的色域里，普通 SDR 视频都是采用 Rec.709（左一）的色彩空间，仅仅覆盖了 35.9% 我们能看到的颜色。</p>
<p>而 HDR 视频基本都是采用 Rec.2020/BT.2020（右一）的色彩空间，提供了更多的颜色，你在观看 HDR 视频时自然会感觉到色彩更为丰富艳丽。</p>
<h3 id="更自然的画面">更自然的画面</h3>
<figure data-type="image" tabindex="6"><img src="https://oss.qust.me/img/ca25cde0-3b02-4cde-880e-ec5454f4b168.png" alt="来源：streamingonset" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">8 bit 和 10 bit 色深画面示意</center> 
<p>在很多视频中我们常常能看到右边 8bit 画面里色彩断层的情况，而 HDR 视频绝大部分采用了 10bit 色深（10.7亿色），更丰富的颜色在很多场景里让画面更加自然。</p>
<h2 id="b站的画质水平">B站的画质水平</h2>
<p>在B站宣布上线HDR真彩画质后，我们也第一时间对于这个画质进行了测试和对比。一窥B站是否真的达到了HDR10 要求的标准？</p>
<p>为了直观展现B站的画质水平，表格从视频的分辨率、码率、帧率、HDR 支持情况、编码支持情况 这5个维度和其它视频平台进行对比。</p>
<table>
<thead>
<tr>
<th style="text-align:center">画质\平台</th>
<th style="text-align:center">B站</th>
<th style="text-align:center">爱奇艺</th>
<th style="text-align:center">腾讯</th>
<th style="text-align:center">优酷</th>
<th style="text-align:center">YouTube</th>
<th style="text-align:center">Netflix</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">分辨率</td>
<td style="text-align:center">4K</td>
<td style="text-align:center">4K</td>
<td style="text-align:center">4K</td>
<td style="text-align:center">4K</td>
<td style="text-align:center">8K</td>
<td style="text-align:center">4K</td>
</tr>
<tr>
<td style="text-align:center">码率</td>
<td style="text-align:center">20 Mbps</td>
<td style="text-align:center">10 Mbps</td>
<td style="text-align:center">10 Mbps</td>
<td style="text-align:center">8 Mbps</td>
<td style="text-align:center">30 Mbps</td>
<td style="text-align:center">16 Mbps</td>
</tr>
<tr>
<td style="text-align:center">帧率</td>
<td style="text-align:center">120 帧</td>
<td style="text-align:center">120 帧</td>
<td style="text-align:center">120 帧</td>
<td style="text-align:center">120 帧</td>
<td style="text-align:center">60 帧</td>
<td style="text-align:center">60 帧</td>
</tr>
<tr>
<td style="text-align:center">编码</td>
<td style="text-align:center">H264/H265</td>
<td style="text-align:center">H264/H265/AV1</td>
<td style="text-align:center">H264/H265</td>
<td style="text-align:center">H264/H265</td>
<td style="text-align:center">H264/VP9/AV1</td>
<td style="text-align:center">H264/H265/VP9/AV1</td>
</tr>
<tr>
<td style="text-align:center">HDR</td>
<td style="text-align:center">HDR 10</td>
<td style="text-align:center">HDR 10/Dolby Vision</td>
<td style="text-align:center">HDR 10/Dolby Vision</td>
<td style="text-align:center">HDR 10</td>
<td style="text-align:center">HDR 10</td>
<td style="text-align:center">HDR 10/Dolby Vision</td>
</tr>
</tbody>
</table>
<p>近几年国内视频平台在画质上的进步确实很快，像今年B站就直接将视频提高到了 120帧，远超过国外各平台最高 60帧 的标准。因过去给的码率太低 4k 视频国内平台常常只能给到 2-5 Mbps，导致画质过于粗糙很多人抱怨其是“伪4k”。</p>
<figure data-type="image" tabindex="7"><img src="https://oss.qust.me/img/e0d0bef54763ffda336e9b9fe27d673.jpg" alt="" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">B站 电视端 4K 视频码率</center> 
<p>今年B站直接将视频最高码率提升到了 20 Mbps，已经达到了国际 Netflix、Disney+ 等影视公司流媒体 4K 大片码率的水准。与此同时B站 80% 的 4k 视频也都采用了 H265 这种更高效的编码，让大家用更少的流量看到更清晰的画面。</p>
<p>因为标准不够统一，以及平台对各客户端的优化不足够。纸面上 HDR 看各家视频平台都支持，实际国内平台 HDR 直接套「滤镜」偏多。观看 HDR 时内容必须得硬件设备支持，如果用硬件上不支持 HDR 的设备观看真正的 HDR 内容你会得到完全偏离正常的色彩和画面中到处过曝。</p>
<figure data-type="image" tabindex="8"><img src="https://oss.qust.me/img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-29%20030333.png" alt="" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">爱奇艺网页版</center> 
<p>举个例子，即使我的电脑设备不支持 HDR，像爱奇艺网页版也还可以选择「HDR」，当然选择 HDR 观看后画面也并没什么两样。其他平台也都有类似的情况，不区分客户端是否支持，直接给滤镜式的 HDR。</p>
<figure data-type="image" tabindex="9"><img src="https://oss.qust.me/img/%E6%9C%AA%E5%91%BD%E5%90%8D%E6%8B%BC%E5%9B%BE.jpg" alt="" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">一加8 和 坚果 Pro2 截图</center> 
<p>和 YouTube 一样B站的手机客户端，会对设备的 HDR 能力做出判断，只给予支持 HDR 的设备提供“HDR 真彩”选项。当然提供的也是真正的 HDR 内容，如果你的手机支持 HDR 切换到“HDR 真彩”后你一定会感受到的。</p>
<blockquote>
<p>根据 B 站官方信息显示，如今只要是你拥有 iPhone 8 及以上，还有 Android 7.0 系统以上的大部分机型，都能在 B 站上在线观看到 HDR10 视频。</p>
</blockquote>
<figure data-type="image" tabindex="10"><img src="https://oss.qust.me/img/Screenshot_20200929-040204.jpg" alt="" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">HDR 关 </center> 
<figure data-type="image" tabindex="11"><img src="https://oss.qust.me/img/Screenshot_20200929-040151.jpg" alt="" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">HDR 开 </center> 
<p>在用 一加8 观看 links 给B站拍摄的 HDR 视频时，我是真的有被震撼到。每个 HDR 真彩画面你都能看非常丰富的细节：每一根小草都更翠绿自然，叶面上的纹理也更清晰，小草上的露珠也更闪耀。</p>
<p>【Links 视频】</p>
<h2 id="为什b站选择-hdr-10">为什B站选择 HDR 10</h2>
<figure data-type="image" tabindex="12"><img src="https://oss.qust.me/img/679b0013-c9c3-40b2-878d-beeb6065565c.png" alt="来源：Verge" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">各种  HDR 标准 </center> 
<p>目前主流的 HDR 主有 HDR 10、Dolby Vision 以及 HLG 这三个标准，对应不同的场景和行业。</p>
<p><strong>Dolby Vision</strong> 的理论规格最高，与此同时也收费认证。更适合于像 Netflix、Disney 这类大的影视公司。</p>
<p><strong>HLG</strong> 免费，更多用在广播电视领域，它由英国 BBC 以及日本 NHK 共同开发。</p>
<p><strong>HDR 10</strong> 免费，也是目前最为广泛的 HDR 标准。Android 手机对 HDR 的支持基本只有 HDR 10（支持 HDR 的 iPhone 同时支持 HDR 10 和 Dolby Vision ）在电视、电脑中对 HDR 的支持也默认都是指的 HDR 10。主流视频剪辑软件：Final Cut Pro X、PR 以及 DaVinci Resolve 16 都对 HDR 10 支持良好。</p>
<p><strong>对于B站</strong>这样的UP主创作平台来说，选择HDR10标准是最适合的。一方面可以方便UP主进行高画质的制作，另一方面也可以让更多的人能看到 HDR 内容的，更深层次是发动群众的力量，解决 HDR 10 内容不足消费者观看的需求问题。 都是B站这个由 UP 主驱动的平台最好的选择。</p>
<h2 id="hdr-带来的挑战">HDR 带来的挑战</h2>
<figure data-type="image" tabindex="13"><img src="https://oss.qust.me/img/20200929132310.png" alt="" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">Netflix 封面图片高亮示意</center> 
<p>Netflix 曾在自己的技术博客中介绍过 <a href="https://netflixtechblog.com/enhancing-the-netflix-ui-experience-with-hdr-1e7506ad3e8">HDR 带来的挑战</a> ，当整个设备输出 HDR 信号时我们以前的 UI 和图片在色彩空间和亮度上都不可能正确的匹配。Netflix 为了给用户带来更加整体的 HDR 体验：对封面图片分析后，给高亮部分做出突出处理；同时使用更高规格的图片格式来匹配 HDR进行显示。</p>
<figure data-type="image" tabindex="14"><img src="https://oss.qust.me/img/487ee0cb06553c4b2cdf71e8116dfad.jpg" alt="" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">Windows 平台  YouTube HDR  </center> 
<p>Windows 系统对 HDR 的支持也比较糟糕，你只有在系统-显示设置里打开 HDR 10 选项后（前提你硬件支持），才能在 YouTube 等平台开启 HDR 10。但这时除了 HDR 内容颜色亮度正常以外，其它所有画面基本都是从 Rec.709 硬拉伸到 Rec.2020，和不正确的亮度。普通内容都得不到正常显示，整个画面像是被分割成了两块屏幕。</p>
<figure data-type="image" tabindex="15"><img src="https://oss.qust.me/img/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-29%20173259.png" alt="" loading="lazy"></figure>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">Windows 平台 B站 </center> 
<p>B站的 HDR 10 在手机上体验还不错，不过支持 HDR 的手机型号很多，都做好优化可能还需要点时间。Windows 平台上我暂时还没看到 HDR 10 的选项，电视端平台目前不支持，可能得等到下个月官方更新推送。</p>
<h2 id="总结">总结</h2>
<p>4K 电视卖的越来约便宜，我们也是 4K 电视用户最多的国家，不到千元的电视都采用了 4K 面板，HDR 成为了中高端电视的标配。在移动端，千元机都用上了支持 HDR 的 OLED 屏幕，屏幕的刷新率也是蹭蹭的涨。5G 信号的覆盖也能为我们随时随地观看高画质视频提供网络支持。可这几年视频平台在内容和画质上的进步却很缓慢，远不能满足我们的需求。</p>
<p>2018 年B站将最高码率提升到了 6Mbps，在去年开始灰度 4K，今年则全面开放了 4K 120fps，同时将最高码率也拉升到了 20 Mbps。B站在成为国内能提供最佳视频质量的平台只差 HDR 这关键的一步，在今天也已补上。</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF-hdr">什么是 HDR</a>
<ul>
<li><a href="#%E6%9B%B4%E6%9A%97%E4%B9%9F%E6%9B%B4%E4%BA%AE">更暗也更亮</a></li>
<li><a href="#%E6%9B%B4%E4%B8%B0%E5%AF%8C%E8%89%B3%E4%B8%BD%E7%9A%84%E9%A2%9C%E8%89%B2">更丰富艳丽的颜色</a></li>
<li><a href="#%E6%9B%B4%E8%87%AA%E7%84%B6%E7%9A%84%E7%94%BB%E9%9D%A2">更自然的画面</a></li>
</ul>
</li>
<li><a href="#b%E7%AB%99%E7%9A%84%E7%94%BB%E8%B4%A8%E6%B0%B4%E5%B9%B3">B站的画质水平</a></li>
<li><a href="#%E4%B8%BA%E4%BB%80b%E7%AB%99%E9%80%89%E6%8B%A9-hdr-10">为什B站选择 HDR 10</a></li>
<li><a href="#hdr-%E5%B8%A6%E6%9D%A5%E7%9A%84%E6%8C%91%E6%88%98">HDR 带来的挑战</a></li>
<li><a href="#%E6%80%BB%E7%BB%93">总结</a></li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://qust.me/post/posts:appleOne/">
              <h3 class="post-title">
                Apple 美区家庭组开车指南，开通 Apple One 教程
              </h3>
            </a>
          </div>
        

        <div id="vcomments"></div>
          <script>
              new Valine({
                  el: '#vcomments',
                  appId: 'Di60lIXoR3yRjU6UWeYJLTUu-gzGzoHsz',
                  appKey: 'xKi8rVQmnFe2bMcKiAwizHQH'
              })
          </script>

        <!--  -->

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://qust.me/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
